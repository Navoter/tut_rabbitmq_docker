# Justfile zum Verwalten des Docker Compose Setups

# Startet alle Container im Hintergrund.
# Verwendet die .env-Datei f체r Umgebungsvariablen.
up:
    docker compose up -d

# Startet alle Container im Vordergrund (n체tzlich zum Debuggen).
up-logs:
    docker compose up

# Stoppt und entfernt alle Container, Netzwerke und Volumes.
down:
    docker compose down -v

# Zeigt die Logs aller laufenden Container.
logs:
    docker compose logs -f

# Baut die Producer- und Consumer-Images neu und startet sie neu.
# N체tzlich, wenn sich die Dockerfiles oder requirements.txt ge채ndert haben.
rebuild:
    docker compose up -d --build --force-recreate producer consumer

# Startet nur den Producer-Container neu.
# Verwendet die `--no-deps` Flag, um zu verhindern, dass auch RabbitMQ neu gestartet wird.
restart-producer:
    docker compose up -d --force-recreate --no-deps producer

# Startet nur den Consumer-Container neu.
restart-consumer:
    docker compose up -d --force-recreate --no-deps consumer